{"openapi":"3.0.3","info":{"title":"Goa API","version":"0.0.1"},"servers":[{"url":"http://localhost:80","description":"Default server for interceptors"}],"paths":{"/records/{tenantID}":{"post":{"tags":["interceptors"],"summary":"create interceptors","description":"Create a new record with all interceptors in action","operationId":"interceptors#create","parameters":[{"name":"tenantID","in":"path","description":"Tenant ID for the request","required":true,"schema":{"type":"string","description":"Valid UUID representation as per RFC 4122","example":"2ddfa9da-5328-4356-94d1-4e34d31453ca","format":"uuid"},"example":"b39b771d-1348-4566-bde1-e935e7a128c7"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRequestBody"},"example":{"spanID":"4310df54-2c77-47dc-93de-ac96d587b947","traceID":"a9d0301f-4d44-4047-bbe6-86a10c4c0b15","value":"Et voluptatem voluptas consequuntur tempore velit optio."}}}},"responses":{"201":{"description":"Created response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateResponseBody"},"example":{"duration":4395728093597392402,"id":"925cebbb-f188-436a-9abb-0c6745f5fc46","processedAt":"Et quia.","retryCount":6290985868456231904,"retryDuration":4184159594193008039,"status":1205985743690151165,"tenant":"Modi fugiat minus.","value":"Eum nulla."}}}}}}},"/records/{tenantID}/stream":{"get":{"tags":["interceptors"],"summary":"stream interceptors","description":"Stream records","operationId":"interceptors#stream","parameters":[{"name":"tenantID","in":"path","description":"Tenant ID for the request","required":true,"schema":{"type":"string","description":"Valid UUID representation as per RFC 4122","example":"cd3fee4d-4954-4061-a28a-b9005ec4d411","format":"uuid"},"example":"b39b771d-1348-4566-bde1-e935e7a128c7"}],"responses":{"101":{"description":"Switching Protocols response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StreamResponseBody"},"example":{"id":"885f431a-1089-47bf-89b4-698aef00dbd9","spanID":"63dfe3de-86fa-4659-b352-4252a6911bc7","status":9053384572981924211,"tenant":"Eum iusto pariatur sunt est.","traceID":"7bb68408-9fe7-4cac-a901-9b11a5ad3880","value":"Adipisci et."}}}}}}},"/records/{tenantID}/{recordID}":{"get":{"tags":["interceptors"],"summary":"get interceptors","description":"Get retrieves a record by ID with all interceptors in action","operationId":"interceptors#get","parameters":[{"name":"tenantID","in":"path","description":"Tenant ID for the request","required":true,"schema":{"type":"string","description":"Valid UUID representation as per RFC 4122","example":"0977be13-2e51-4ae0-b5a3-089d315a988b","format":"uuid"},"example":"b39b771d-1348-4566-bde1-e935e7a128c7"},{"name":"recordID","in":"path","description":"ID of the record to retrieve","required":true,"schema":{"type":"string","description":"Valid UUID representation as per RFC 4122","example":"370aa339-18db-4cc2-a207-97b4771131ff","format":"uuid"},"example":"b39b771d-1348-4566-bde1-e935e7a128c7"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetRequestBody"},"example":{"spanID":"3d14158e-229c-4a36-a10f-52399658e40f","traceID":"5c269208-646a-4c82-ba7d-9b7a4406162b"}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetResponseBody"},"example":{"cachedAt":"Aperiam maiores voluptate et in aut delectus.","duration":108379467272790466,"id":"91406859-9254-4fad-a9a7-96cbad121797","processedAt":"Ipsa fuga doloremque quaerat natus quia.","retryCount":6248320115796874517,"retryDuration":1298571635934426492,"status":229350619239375764,"tenant":"Officia perferendis dolores deserunt facilis reprehenderit.","value":"Sint quis molestias minus quis et."}}}},"404":{"description":"NotFound: Record not found","content":{"application/vnd.goa.error":{"schema":{"$ref":"#/components/schemas/Error"}}}},"503":{"description":"Unavailable: Temporary error","content":{"application/vnd.goa.error":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}}},"components":{"schemas":{"CreateRequestBody":{"type":"object","properties":{"spanID":{"type":"string","description":"Unique span ID for request, initialized by the TraceRequest interceptor","example":"257e333b-2655-4286-a515-0672f9bac5e3","format":"uuid"},"traceID":{"type":"string","description":"Unique trace ID for request, initialized by the TraceRequest interceptor","example":"2bd326fd-bd5c-459b-b877-7322733ae6cc","format":"uuid"},"value":{"type":"string","description":"Value to store in record","example":"Et accusantium qui officiis."}},"example":{"spanID":"3b54e41c-8dd3-4ce6-ae8e-10fe8a4b4996","traceID":"95124ed1-b5b5-422b-97ac-0027b3d8d243","value":"Neque vel."},"required":["value"]},"CreateResponseBody":{"type":"object","properties":{"duration":{"type":"integer","description":"Processing duration in ms","example":7553267431948414594,"format":"int64"},"id":{"type":"string","description":"ID of the created record","example":"6464380c-e68f-4099-a8b6-09c4ea839478","format":"uuid"},"processedAt":{"type":"string","description":"Timestamp when processed","example":"Porro non sequi in expedita."},"retryCount":{"type":"integer","description":"Number of retry attempts made","example":5169107412294700916,"format":"int64"},"retryDuration":{"type":"integer","description":"Total time spent retrying","example":2438064480732962763,"format":"int64"},"status":{"type":"integer","description":"Response status code","example":1271925053809521377,"format":"int64"},"tenant":{"type":"string","description":"Tenant the record belongs to","example":"Eos deserunt voluptatum et."},"value":{"type":"string","description":"Value of the record","example":"Qui asperiores quis optio quo rem aperiam."}},"example":{"duration":8753355456399930569,"id":"9b65a2a9-67ef-4d8f-85e8-b9f79c8775fa","processedAt":"Voluptas necessitatibus consequuntur ea pariatur similique.","retryCount":8844267596635991694,"retryDuration":993141392835921854,"status":118955684763466403,"tenant":"Omnis consequatur et.","value":"Quia enim aut velit laborum ut."},"required":["id","value","tenant","status","processedAt","duration"]},"Error":{"type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":true},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":false},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":false}},"description":"Record not found","example":{"fault":false,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":false,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"GetRequestBody":{"type":"object","properties":{"spanID":{"type":"string","description":"Unique span ID for request, initialized by the TraceRequest interceptor","example":"ad3bbd7d-7372-4d7b-a622-8d2e268a8c99","format":"uuid"},"traceID":{"type":"string","description":"Unique trace ID for request, initialized by the TraceRequest interceptor","example":"711ea1a2-af96-4aa1-a9e7-2e026d1e5942","format":"uuid"}},"example":{"spanID":"aa7fdd08-a8cc-4d87-bb61-16196937de6c","traceID":"c2bee799-eb9d-43a9-aad1-4889ac6a9320"}},"GetResponseBody":{"type":"object","properties":{"cachedAt":{"type":"string","description":"Time at which the record was cached, written by the Cache interceptor","example":"Sed dolor labore dolorem error debitis sint."},"duration":{"type":"integer","description":"Processing duration in ms, written by the RequestAudit interceptor","example":8602081012845218030,"format":"int64"},"id":{"type":"string","description":"ID of the record","example":"3d0d04d7-b1c3-4954-80b6-b650f30e1948","format":"uuid"},"processedAt":{"type":"string","description":"Timestamp when processed, written by the RequestAudit interceptor","example":"Iure et dolore exercitationem veritatis nostrum."},"retryCount":{"type":"integer","description":"Number of retry attempts made, written client-side by the Retry interceptor","example":2026333010207283048,"format":"int64"},"retryDuration":{"type":"integer","description":"Total time spent retrying, written client-side by the Retry interceptor","example":3848707792975834456,"format":"int64"},"status":{"type":"integer","description":"Response status code","example":4131822669320589583,"format":"int64"},"tenant":{"type":"string","description":"Tenant the record belongs to","example":"Pariatur ducimus."},"value":{"type":"string","description":"Value of the record","example":"Quo explicabo rem dolorum."}},"example":{"cachedAt":"Ipsa hic omnis.","duration":1818719090900801848,"id":"c6547b82-81d9-4505-a905-941ea21df3dd","processedAt":"Sequi magni.","retryCount":3390811083427310973,"retryDuration":1062591452098800118,"status":7684396984065364389,"tenant":"Omnis molestiae debitis doloribus.","value":"Enim quia odit."},"required":["id","value","tenant","status","processedAt","duration"]},"StreamResponseBody":{"type":"object","properties":{"id":{"type":"string","description":"ID of the created record","example":"9faf19f3-d924-41b3-a70b-3e1fc1e2da78","format":"uuid"},"spanID":{"type":"string","description":"Unique span ID for request, initialized by the TraceRequest interceptor","example":"478bab15-c2d5-4e65-99f0-5c18239eac11","format":"uuid"},"status":{"type":"integer","description":"Response status code","example":3436162260686618935,"format":"int64"},"tenant":{"type":"string","description":"Tenant the record belongs to","example":"Minus nobis sint voluptates animi."},"traceID":{"type":"string","description":"Unique trace ID for request, initialized by the TraceRequest interceptor","example":"12787086-9734-4165-b155-7718bb5f483f","format":"uuid"},"value":{"type":"string","description":"Value of the record","example":"Est id dolor."}},"example":{"id":"01e43468-1044-4d95-9b56-5d0f2feab26d","spanID":"21562ba5-007a-4286-b40c-b61c11219d21","status":4042221130955500324,"tenant":"Natus voluptatem modi aspernatur dolorem.","traceID":"1cf66377-b75e-400d-bfd3-52c4d99873b7","value":"Ipsam soluta nam consectetur."},"required":["id","value","tenant","status"]},"StreamStreamingBody":{"type":"object","properties":{"id":{"type":"string","description":"Valid UUID representation as per RFC 4122","example":"d474747f-7faf-4d98-894c-1cd3abc136d7","format":"uuid"},"spanID":{"type":"string","description":"Valid UUID representation as per RFC 4122","example":"b20a0e4c-a12f-44ab-a501-580373464072","format":"uuid"},"traceID":{"type":"string","description":"Valid UUID representation as per RFC 4122","example":"78a1d7c3-1c7b-46ca-820e-93284b582ee7","format":"uuid"},"value":{"type":"string","description":"Value of the record","example":"Placeat dolorum."}},"example":{"id":"8505ba65-e1ff-4ec3-b13a-487aa4af5a0c","spanID":"2c29352c-f534-4ff7-9818-f6ed4cce8982","traceID":"426f149b-3a20-4c09-9c81-b4ce7cda2560","value":"Consequatur asperiores possimus ullam facilis omnis."},"required":["id","value"]}}},"tags":[{"name":"interceptors","description":"The interceptors service demonstrates a comprehensive use of interceptors combining\nauthentication, tenant validation, caching, audit logging, and retry mechanisms. It showcases\nboth client-side and server-side interceptors working together to provide a robust service."}]}