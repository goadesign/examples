{"openapi":"3.0.3","info":{"title":"Goa API","version":"0.0.1"},"servers":[{"url":"http://localhost:80","description":"Default server for interceptors"}],"paths":{"/records/{tenantID}":{"post":{"tags":["interceptors"],"summary":"create interceptors","description":"Create a new record with all interceptors in action","operationId":"interceptors#create","parameters":[{"name":"tenantID","in":"path","description":"Tenant ID for the request","required":true,"schema":{"type":"string","description":"Valid UUID representation as per RFC 4122","example":"f31b7bf0-913e-4386-b71b-e4eab5a79689","format":"uuid"},"example":"b39b771d-1348-4566-bde1-e935e7a128c7"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRequestBody"},"example":{"spanID":"4310df54-2c77-47dc-93de-ac96d587b947","traceID":"a9d0301f-4d44-4047-bbe6-86a10c4c0b15","value":"Et voluptatem voluptas consequuntur tempore velit optio."}}}},"responses":{"201":{"description":"Created response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateResponseBody"},"example":{"duration":4395728093597392402,"id":"925cebbb-f188-436a-9abb-0c6745f5fc46","processedAt":"Et quia.","retryCount":6290985868456231904,"retryDuration":4184159594193008039,"status":1205985743690151165,"tenant":"Modi fugiat minus.","value":"Eum nulla."}}}}}}},"/records/{tenantID}/stream":{"get":{"tags":["interceptors"],"summary":"stream interceptors","description":"Stream records","operationId":"interceptors#stream","parameters":[{"name":"tenantID","in":"path","description":"Tenant ID for the request","required":true,"schema":{"type":"string","description":"Valid UUID representation as per RFC 4122","example":"73f31894-32c1-4a4f-99f2-aac5f4ee33c0","format":"uuid"},"example":"b39b771d-1348-4566-bde1-e935e7a128c7"}],"responses":{"101":{"description":"Switching Protocols response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StreamResponseBody"},"example":{"id":"885f431a-1089-47bf-89b4-698aef00dbd9","spanID":"63dfe3de-86fa-4659-b352-4252a6911bc7","status":9053384572981924211,"tenant":"Eum iusto pariatur sunt est.","traceID":"7bb68408-9fe7-4cac-a901-9b11a5ad3880","value":"Adipisci et."}}}}}}},"/records/{tenantID}/{recordID}":{"get":{"tags":["interceptors"],"summary":"get interceptors","description":"Get retrieves a record by ID with all interceptors in action","operationId":"interceptors#get","parameters":[{"name":"tenantID","in":"path","description":"Tenant ID for the request","required":true,"schema":{"type":"string","description":"Valid UUID representation as per RFC 4122","example":"2cbb77f6-3649-4d9c-9716-aef0e64e95b4","format":"uuid"},"example":"b39b771d-1348-4566-bde1-e935e7a128c7"},{"name":"recordID","in":"path","description":"ID of the record to retrieve","required":true,"schema":{"type":"string","description":"Valid UUID representation as per RFC 4122","example":"2ac50ef4-d394-4bdb-937c-f05bd92c1045","format":"uuid"},"example":"b39b771d-1348-4566-bde1-e935e7a128c7"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetRequestBody"},"example":{"spanID":"3d14158e-229c-4a36-a10f-52399658e40f","traceID":"5c269208-646a-4c82-ba7d-9b7a4406162b"}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetResponseBody"},"example":{"cachedAt":"Aperiam maiores voluptate et in aut delectus.","duration":108379467272790466,"id":"91406859-9254-4fad-a9a7-96cbad121797","processedAt":"Ipsa fuga doloremque quaerat natus quia.","retryCount":6248320115796874517,"retryDuration":1298571635934426492,"status":229350619239375764,"tenant":"Officia perferendis dolores deserunt facilis reprehenderit.","value":"Sint quis molestias minus quis et."}}}},"404":{"description":"NotFound: Record not found","content":{"application/vnd.goa.error":{"schema":{"$ref":"#/components/schemas/Error"}}}},"503":{"description":"Unavailable: Temporary error","content":{"application/vnd.goa.error":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}}},"components":{"schemas":{"CreateRequestBody":{"type":"object","properties":{"spanID":{"type":"string","description":"Unique span ID for request, initialized by the TraceRequest interceptor","example":"66c21741-2a09-4300-856c-631d7180fc35","format":"uuid"},"traceID":{"type":"string","description":"Unique trace ID for request, initialized by the TraceRequest interceptor","example":"d2d80058-9295-4787-a08d-6d86ab20f721","format":"uuid"},"value":{"type":"string","description":"Value to store in record","example":"Alias at et rerum eaque architecto voluptate."}},"example":{"spanID":"05796539-3e7f-4d88-9b1a-360cc3ddfb02","traceID":"05e90594-1ea2-487d-815a-ea6595a47088","value":"Quod enim quia odit optio omnis molestiae."},"required":["value"]},"CreateResponseBody":{"type":"object","properties":{"duration":{"type":"integer","description":"Processing duration in ms","example":3252852782776226549,"format":"int64"},"id":{"type":"string","description":"ID of the created record","example":"783c2a41-e77e-4311-96b8-54c48ca0bfa3","format":"uuid"},"processedAt":{"type":"string","description":"Timestamp when processed","example":"Qui earum."},"retryCount":{"type":"integer","description":"Number of retry attempts made","example":5983173034421635685,"format":"int64"},"retryDuration":{"type":"integer","description":"Total time spent retrying","example":3312040939878868553,"format":"int64"},"status":{"type":"integer","description":"Response status code","example":2660911260522723891,"format":"int64"},"tenant":{"type":"string","description":"Tenant the record belongs to","example":"At ut quia est."},"value":{"type":"string","description":"Value of the record","example":"Saepe suscipit tempora ut."}},"example":{"duration":1003097395137524672,"id":"8e6c8cdb-4dc1-4650-840f-ae521690ea72","processedAt":"Quia autem.","retryCount":5377744742937534633,"retryDuration":3513844317152655569,"status":4545812874143076033,"tenant":"Libero delectus.","value":"Nobis quia necessitatibus similique earum molestias facilis."},"required":["id","value","tenant","status","processedAt","duration"]},"Error":{"type":"object","properties":{"fault":{"type":"boolean","description":"Is the error a server-side fault?","example":true},"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":false},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"description":"Record not found","example":{"fault":true,"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":true,"timeout":true},"required":["name","id","message","temporary","timeout","fault"]},"GetRequestBody":{"type":"object","properties":{"spanID":{"type":"string","description":"Unique span ID for request, initialized by the TraceRequest interceptor","example":"615a7638-d154-41e2-b909-d707eb3a77fb","format":"uuid"},"traceID":{"type":"string","description":"Unique trace ID for request, initialized by the TraceRequest interceptor","example":"234ff3bf-5691-472f-a6d7-6be3849142e1","format":"uuid"}},"example":{"spanID":"253c78ab-d442-4041-b2f2-383c37f7d327","traceID":"7e395fe1-b6de-4c75-a753-62c6384b0574"}},"GetResponseBody":{"type":"object","properties":{"cachedAt":{"type":"string","description":"Time at which the record was cached, written by the Cache interceptor","example":"Et exercitationem cupiditate quasi excepturi tempora veritatis."},"duration":{"type":"integer","description":"Processing duration in ms, written by the RequestAudit interceptor","example":4698298806044037843,"format":"int64"},"id":{"type":"string","description":"ID of the record","example":"3053aed1-192a-47c1-b661-1b19c7644614","format":"uuid"},"processedAt":{"type":"string","description":"Timestamp when processed, written by the RequestAudit interceptor","example":"Non porro atque ut iure velit rerum."},"retryCount":{"type":"integer","description":"Number of retry attempts made, written client-side by the Retry interceptor","example":6899564990618547130,"format":"int64"},"retryDuration":{"type":"integer","description":"Total time spent retrying, written client-side by the Retry interceptor","example":6432406985617905853,"format":"int64"},"status":{"type":"integer","description":"Response status code","example":4311134438224592252,"format":"int64"},"tenant":{"type":"string","description":"Tenant the record belongs to","example":"Aut asperiores perspiciatis expedita illo."},"value":{"type":"string","description":"Value of the record","example":"Est quo voluptatem velit voluptates."}},"example":{"cachedAt":"Nesciunt quia quam cumque cum sed.","duration":823577077125209537,"id":"2e0dad83-452e-46ca-b398-abc8b2a5e388","processedAt":"Ut rerum.","retryCount":8062677301886425709,"retryDuration":3613618543109711997,"status":5133378851940407574,"tenant":"Quis sed ducimus facere ut beatae corporis.","value":"Laborum et provident delectus harum ad libero."},"required":["id","value","tenant","status","processedAt","duration"]},"StreamResponseBody":{"type":"object","properties":{"id":{"type":"string","description":"ID of the created record","example":"cec65d49-67e3-4fc9-8fdb-ec2bcc23312a","format":"uuid"},"spanID":{"type":"string","description":"Unique span ID for request, initialized by the TraceRequest interceptor","example":"927ec8d3-598b-461e-ae0d-78511bc13c20","format":"uuid"},"status":{"type":"integer","description":"Response status code","example":3174181759539431623,"format":"int64"},"tenant":{"type":"string","description":"Tenant the record belongs to","example":"Quae et et ut."},"traceID":{"type":"string","description":"Unique trace ID for request, initialized by the TraceRequest interceptor","example":"dd67c3ae-5519-44dc-8e53-c0a21ce734be","format":"uuid"},"value":{"type":"string","description":"Value of the record","example":"Sunt qui optio modi velit impedit."}},"example":{"id":"4b6461cd-5a28-438b-9b46-9305009847e6","spanID":"75573bfe-4644-408d-9a86-264448ec1cd8","status":3847493342810454637,"tenant":"A accusantium perferendis.","traceID":"897674da-394d-45be-bfa2-17e1cf573d98","value":"Dolor suscipit voluptatem ut ea corrupti doloremque."},"required":["id","value","tenant","status"]},"StreamStreamingBody":{"type":"object","properties":{"id":{"type":"string","description":"Valid UUID representation as per RFC 4122","example":"974fbef1-78b9-4593-b845-e7dddb190381","format":"uuid"},"spanID":{"type":"string","description":"Valid UUID representation as per RFC 4122","example":"52263212-b564-48fe-be5b-c8d7d00eff96","format":"uuid"},"traceID":{"type":"string","description":"Valid UUID representation as per RFC 4122","example":"4dfe326d-ad2e-4131-a841-07ed3b67159c","format":"uuid"},"value":{"type":"string","description":"Value of the record","example":"Et fugiat ipsam porro non sequi."}},"example":{"id":"f3b5a923-1d05-43ee-86ad-bd1b4e3028c3","spanID":"f3b5a923-1d05-43ee-86ad-bd1b4e3028c3","traceID":"f3b5a923-1d05-43ee-86ad-bd1b4e3028c3","value":"Incidunt fugiat eum praesentium ex voluptatem odit."},"required":["id","value"]}}},"tags":[{"name":"interceptors","description":"The interceptors service demonstrates a comprehensive use of interceptors combining\nauthentication, tenant validation, caching, audit logging, and retry mechanisms. It showcases\nboth client-side and server-side interceptors working together to provide a robust service."}]}